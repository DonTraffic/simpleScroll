const scrollsData={};function changeShadow(e,t,l){t.shadowPrev&&(t.shadowPrev.style.opacity=1,l<=0&&(t.shadowPrev.style.opacity=0)),t.shadowNext&&(t.shadowNext.style.opacity=1,l>=e&&(t.shadowNext.style.opacity=0))}function sliderValidate(e){"horizontal"==e.slider.direction&&e.slider.elem.offsetWidth>e.slider.line.offsetWidth+e.slider.styles.padding&&(e.slider.scrollMax=0),"vertical"==e.slider.direction&&e.slider.elem.offsetHeight>e.slider.line.offsetHeight+e.slider.styles.padding&&(e.slider.scrollMax=0)}function sliderUpdateDeep(e){if(document.querySelectorAll(`.${e.name}-slider`).forEach((t,l)=>{scrollsData[e.name].sliders[l]={};let o=scrollsData[e.name].sliders[l];o.elem=document.querySelector(`.${e.name}-slider--${l}`),o.line=o.elem.querySelector(`.${e.name}-line`),o.line.classList.add("slider-line--transition"),o.items=o.elem.querySelectorAll(`.${e.name}-item`),o.shadowPrev=document.querySelector(`.${e.name}-shadow-prev`)?o.elem.querySelector(`.${e.name}-shadow-prev`):document.querySelector(`.${e.name}-shadow-prev--${l}`),o.shadowNext=document.querySelector(`.${e.name}-shadow-next`)?o.elem.querySelector(`.${e.name}-shadow-next`):document.querySelector(`.${e.name}-shadow-next--${l}`),o.revert=o.elem.getAttribute("revert"),o.revert="true"==o.revert,o.anchor=o.elem.getAttribute("anchor"),o.anchor="true"==o.anchor,o.anchor&&(o.moveOffset=0),o.direction=o.elem.getAttribute("direction"),o.direction="horizontal"==o.direction||"vertical"==o.direction?o.direction:"horizontal",o.styles=window.getComputedStyle(o.elem),o.styles={padding:"horizontal"==o.direction?parseInt(o.styles.paddingLeft,10)+parseInt(o.styles.paddingRight,10):parseInt(o.styles.paddingTop,10)+parseInt(o.styles.paddingBottom,10),gap:"normal"!=window.getComputedStyle(o.line).gap?parseInt(window.getComputedStyle(o.line).gap,10):0},o.points=!!o.elem.getAttribute("points")&&JSON.parse(o.elem.getAttribute("points")),o.points&&(o.itemsCount=getItemCount(o),o.itemSize=(("horizontal"==o.direction?o.elem.offsetWidth:o.elem.offsetHeight)-o.styles.padding-o.styles.gap*(o.itemsCount>0?o.itemsCount-1:o.itemsCount))/o.itemsCount,o.items.forEach(e=>{"horizontal"==o.direction?e.style.width=`${o.itemSize}px`:e.style.height=`${o.itemSize}px`})),o.size={elem:"horizontal"==o.direction?o.elem.offsetWidth:o.elem.offsetHeight,line:("horizontal"==o.direction?o.line.offsetWidth:o.line.offsetHeight)+o.styles.padding},o.scrollMax=o.size.line-o.size.elem,o.step=l?o.scrollMax/scrollsData[e.name].sliders[0].scrollMax:1,o.percent=0,o.skip=!1}),document.querySelector(`.${e.name}-scroll`)){scrollsData[e.name].scroll={};let t=scrollsData[e.name].scroll,l=scrollsData[e.name].sliders[0];t.elem=document.querySelector(`.${e.name}-scroll`),t.thumb=document.querySelector(`.${e.name}-thumb`),t.thumb.classList.add("scroll-thumb--transition"),t.direction=t.elem.getAttribute("direction")?t.elem.getAttribute("direction"):t.elem.offsetWidth>t.elem.offsetHeight?"horizontal":"vertical",t.size={},t.size.elem="horizontal"==t.direction?t.elem.offsetWidth:t.elem.offsetHeight,t.size.thumb=t.size.elem/100*(100*l.size.elem/l.size.line),"horizontal"==t.direction?t.thumb.style.width=`${t.size.thumb}px`:t.thumb.style.height=`${t.size.thumb}px`,t.scrollMax=t.size.elem-t.size.thumb,t.step=t.scrollMax/l.scrollMax}else scrollsData[e.name].scroll=!1;scrollsData[e.name].btns={prev:document.querySelectorAll(`.${e.name}-btn-prev`),next:document.querySelectorAll(`.${e.name}-btn-next`)},setEvents(e),rollScroll(e)}function updateScrollAll(){document.querySelectorAll(".DTScroll").forEach(e=>{sliderUpdateDeep(scrollsData[e.id])})}function scrollWheel(e,t,l){e.preventDefault(),l?t.global.move-=e.deltaY:t.global.move+=e.deltaY;for(const e in t.sliders){let l=t.sliders[e],o=l.itemSize+l.styles.gap;l.percent=t.global.move/o*l.step}rollScroll(t)}function scrollButton(e,t){event.preventDefault();let l=e.sliders[0],o=l.itemSize+l.styles.gap;t?e.global.move+=o:e.global.move-=o;for(const t in e.sliders){let l=e.sliders[t];l.percent=e.global.move/o*l.step}rollScroll(e)}function rollScroll(e){e.global.move<0&&(e.global.move=0),e.global.move>e.sliders[0].scrollMax&&(e.global.move=e.sliders[0].scrollMax);for(const t in e.sliders){let l=e.sliders[t],o=l.revert?l.scrollMax-e.global.move*l.step:e.global.move*l.step;if(l.anchor){let e=(l.itemSize+l.styles.gap)*Math.round(l.percent);l.revert&&(e=l.scrollMax-e),e>l.scrollMax&&(e=l.scrollMax),e<0&&(e=0),l.move=o-e,o=e}l.line.style.transform="horizontal"==l.direction?`translateX(${-o}px)`:`translateY(${-o}px)`,changeShadow(e.sliders[0].scrollMax,l,e.global.move)}e.scroll&&(e.scroll.thumb.style.transform="horizontal"==e.scroll.direction?`translateX(${e.global.move*e.scroll.step}px)`:`translateY(${e.global.move*e.scroll.step}px)`)}function getItemCount(e){let t;for(const l in e.points)!t&&window.innerWidth<=l&&(t=e.points[l]);return t||(t=e.points[0]),t<=e.items.length?t:e.items.length}function sliderTouch(e,t,l,o,s){e.preventDefault();let r="slider"==o?s?l.sliders[s]:l.sliders[0]:l.scroll,n="mouse"==t?"horizontal"==r.direction?e.clientX:e.clientY:"horizontal"==r.direction?e.touches[0].clientX:e.touches[0].clientY,i=l.global.move;for(const e in l.sliders){let t=l.sliders[e];t.skip=t.anchor&&!r.anchor,t.skip||t.line.classList.remove("slider-line--transition"),t.line.style.pointerEvents="none"}function a(e){let t=(n-("horizontal"==r.direction?e.clientX:e.clientY))/r.step;i=l.global.move+(r.revert||"scroll"==o?-t:t);for(const e in l.sliders){let t=l.sliders[e],o=t.itemSize+t.styles.gap,s=i*t.step;s=t.revert?t.scrollMax-s:s,t.percent=i/o*t.step;let n=t.skip?o*Math.round(t.percent):s;r.anchor&&(n-=t.move),!r.anchor&&t.revert&&(n=t.scrollMax-n),t.line.style.transform=`translate${"horizontal"==t.direction?"X":"Y"}(\n                ${t.anchor?-n:-s}px)`,changeShadow(l.sliders[0].scrollMax,t,i)}l.scroll&&(l.scroll.thumb.style.transform="horizontal"==l.scroll.direction?`translateX(${i*l.scroll.step}px)`:`translateY(${i*l.scroll.step}px)`)}function c(e){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",c),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",c);for(const e in l.sliders){let t=l.sliders[e];t.line.classList.add("slider-line--transition"),t.line.style.pointerEvents="all"}l.scroll&&l.scroll.thumb.classList.add("scroll-thumb--transition"),l.global.move=i,rollScroll(l)}l.scroll&&l.scroll.thumb.classList.remove("scroll-thumb--transition"),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a),document.addEventListener("mouseup",c),document.addEventListener("touchend",c)}function setEvents(e){e.scroll&&(e.scroll.thumb.onmousedown=(t=>{sliderTouch(t,"mouse",e,"scroll")}),e.scroll.thumb.ontouchstart=(t=>{sliderTouch(t,"touch",e,"scroll")}),e.scroll.thumb.ondragstart=(()=>!1)),scrollsData[e.name].btns.prev&&scrollsData[e.name].btns.prev.forEach(t=>{t.onclick=(()=>{scrollButton(e,!1)})}),scrollsData[e.name].btns.next&&scrollsData[e.name].btns.next.forEach(t=>{t.onclick=(()=>{scrollButton(e,!0)})});for(const t in e.sliders){let l=e.sliders[t];l.line.onmousedown=(l=>{sliderTouch(l,"mouse",e,"slider",t)}),l.line.ontouchstart=(l=>{sliderTouch(l,"touch",e,"slider",t)}),l.line.ondragstart=(()=>!1),l.line.onwheel=(t=>scrollWheel(t,e,l.revert))}}function initScroll(e){scrollsData[e]={},scrollsData[e].name=e,scrollsData[e].global={move:0},scrollsData[e].sliders={},sliderUpdateDeep(scrollsData[e])}function initScrollAll(){document.querySelectorAll(".DTScroll").forEach(e=>{initScroll(e.id)}),window.onresize=(()=>{updateScrollAll()})}window.onload=(()=>initScrollAll());